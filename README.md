# portfolio_sql
# Анализ аптечных данных: задачи, SQL-решения и бизнес-выводы

*SQL Tasks, Business Insights & Data Analysis*

## О проекте

Проект посвящён анализу продаж аптечной сети с использованием **SQL**.  
В рамках проекта решается набор типовых аналитических задач: от расчёта выручки и топов продаж — до анализа клиентского поведения и кумулятивных метрик.

Проект демонстрирует умение:
- формулировать бизнес-задачи;
- писать читаемые и оптимальные SQL-запросы;
- интерпретировать результаты и формулировать бизнес-выводы.

## Бизнес-контекст

Аптечному ритейлу важно:

- понимать, какие аптеки и товары формируют основную выручку;
- выявлять наиболее эффективные торговые точки;
- анализировать клиентскую базу и лояльность;
- отслеживать динамику продаж во времени;
- находить основу для маркетинговых и ассортиментных решений.

Данный проект моделирует подобные задачи в формате SQL-аналитики.

## Цель проекта

- Решить набор аналитических задач с использованием SQL.
- Показать владение агрегатами, оконными функциями и JOIN.
- Получить интерпретируемые бизнес-инсайты на основе данных.
- Продемонстрировать подход «запрос → результат → бизнес-вывод».

**Презентация проекта:**  [**Pharmacy Data Analysis (SQL)**](https://github.com/SVNasonkova/portfolio_sql/blob/58e733bda5f264089443d5b0947b1f6e138828f0/Projects/sql-tasks-pharmacy-sales/presentation/Pharmacy%20Data%20Analysis%20(SQL).pdf)


## Решённые аналитические задачи
---

| № | Задача | Используемые SQL-функции | Бизнес-вывод | Ссылка на запрос |
|:-:|:--------|:---------------------------|:--------------|:----------------|
| ✅ **1** | **Топ-3 аптеки по объему продаж** <br> Определить аптеки с наибольшей выручкой. | `GROUP BY`, `SUM`, `ORDER BY`, `LIMIT` | Ключевые точки для инвестиций и масштабирования: **Столичная**, **Доктор Айболит**, **Здравсити**. | [SQL 1 — Топ-3 аптеки](https://github.com/SVNasonkova/portfolio_sql/blob/cf025cd20f74b358bd842a150e39bbd92dd989b4/Projects/sql-tasks-pharmacy-sales/queries/1%20%D0%A2%D0%9E%D0%9F-3%20%D0%B0%D0%BF%D1%82%D0%B5%D0%BA%D0%B8.sql) |
| ✅ **2** | **Топ-3 самых продаваемых лекарства** <br> Найти три лекарства с наибольшими продажами. | `GROUP BY`, `SUM`, `ORDER BY`, `LIMIT` | Основные драйверы ассортимента: **Ибупрофен**, **Цитрамон**, **Аквафорте**. | [SQL 2 — Топ-3 лекарства](https://github.com/SVNasonkova/portfolio_sql/blob/cf025cd20f74b358bd842a150e39bbd92dd989b4/Projects/sql-tasks-pharmacy-sales/queries/2%20%D0%A2%D0%9E%D0%9F-3%20%D0%BB%D0%B5%D0%BA%D0%B0%D1%80%D1%81%D1%82%D0%B2%D0%B0.sql) |
| ✅ **3** | **Аптеки с оборотом более 1.8 млн** <br> Отобрать аптеки с продажами выше порога. | `HAVING`, `GROUP BY`, `SUM`, `ORDER BY` | Высокоэффективные точки продаж — **Столичная**, **Доктор Айболит**, **Здравсити**. Использовать для решений по маркетингу и инвестициям. | [SQL 3 — Аптеки > 1.8 млн](https://github.com/SVNasonkova/portfolio_sql/blob/cf025cd20f74b358bd842a150e39bbd92dd989b4/Projects/sql-tasks-pharmacy-sales/queries/3%20%D0%90%D0%BF%D1%82%D0%B5%D0%BA%D0%B8%20%D1%81%20%D0%BE%D0%B1%D0%BE%D1%80%D0%BE%D1%82%D0%BE%D0%BC%20%D0%B1%D0%BE%D0%BB%D0%B5%D0%B5%201%2C8%20%D0%BC%D0%BB%D0%BD.sql) |
| ✅ **4** | **Кумулятивные продажи по аптекам** <br> Рассчитать накопленные продажи по датам. | `ORDER BY`, `SUM(...) OVER(PARTITION BY ... ORDER BY ...)`, `DISTINCT` | Построены нарастающие итоги продаж. Используется для анализа динамики и трендов выручки. | [SQL 4 — Кумулятивные продажи](https://github.com/SVNasonkova/portfolio_sql/blob/cf025cd20f74b358bd842a150e39bbd92dd989b4/Projects/sql-tasks-pharmacy-sales/queries/4%20%D0%9A%D1%83%D0%BC%D1%83%D0%BB%D1%8F%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B4%D0%B0%D0%B6%D0%B8%20%D0%BF%D0%BE%20%D0%B0%D0%BF%D1%82%D0%B5%D0%BA%D0%B0%D0%BC.sql) |
| ✅ **5** | **Количество клиентов по аптекам** <br> Подсчитать уникальных клиентов по каждой аптеке. | `COUNT(DISTINCT ...)`, `GROUP BY`, `ORDER BY` | Популярность аптек примерно одинакова (426–441 клиентов). Лидер — **Столичная** (441 клиент). | [SQL 5 — Клиенты по аптекам](https://github.com/SVNasonkova/portfolio_sql/blob/cf025cd20f74b358bd842a150e39bbd92dd989b4/Projects/sql-tasks-pharmacy-sales/queries/5%20%D0%9A%D0%BE%D0%BB%D0%B8%D1%87%D0%B5%D1%81%D1%82%D0%B2%D0%BE%20%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%BE%D0%B2%20%D0%BF%D0%BE%20%D0%B0%D0%BF%D1%82%D0%B5%D0%BA%D0%B0%D0%BC.sql) |
| ✅ **6** | **Топ-10 лучших клиентов** <br> Найти клиентов с наибольшим объемом заказов. | `INNER JOIN`, `SUM`, `ROW_NUMBER()`, `WITH`, `GROUP BY`, `ORDER BY` | Основа для персонализированных предложений ключевым клиентам. | [SQL 6 — Топ-10 клиентов](https://github.com/SVNasonkova/portfolio_sql/blob/cf025cd20f74b358bd842a150e39bbd92dd989b4/Projects/sql-tasks-pharmacy-sales/queries/6%20%D0%A2%D0%9E%D0%9F-10%20%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%BE%D0%B2.sql) |
| ✅ **7** | **Накопленная сумма заказов по клиентам** <br> Рассчитать кумулятивную активность клиентов. | `INNER JOIN`, `CONCAT`, `SUM(...) OVER(PARTITION BY ... ORDER BY ...)`, `GROUP BY`, `ORDER BY` | Анализ поведения клиентов во времени. Используется для сегментации и персонализации маркетинга. | [SQL 7 — Кумулятивные заказы](https://github.com/SVNasonkova/portfolio_sql/blob/cf025cd20f74b358bd842a150e39bbd92dd989b4/Projects/sql-tasks-pharmacy-sales/queries/7%20%D0%9D%D0%B0%D0%BA%D0%BE%D0%BF%D0%BB%D0%B5%D0%BD%D0%BD%D0%B0%D1%8F%20%D1%81%D1%83%D0%BC%D0%BC%D0%B0%20%D0%B7%D0%B0%D0%BA%D0%B0%D0%B7%D0%BE%D0%B2%20%D0%BF%D0%BE%20%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0%D0%BC.sql) |
| ✅ **8** | **Частые клиенты Горздрав и Здравсити** <br> Топ-10 клиентов по количеству заказов. | `WITH`, `JOIN`, `COUNT`, `UNION ALL`, `LIMIT`, `GROUP BY`, `ORDER BY` | Определены лояльные клиенты сетей **Горздрав** и **Здравсити**. Используется для удержания покупателей. | [SQL 8 — Частые клиенты](https://github.com/SVNasonkova/portfolio_sql/blob/cf025cd20f74b358bd842a150e39bbd92dd989b4/Projects/sql-tasks-pharmacy-sales/queries/8%20%D0%A7%D0%B0%D1%81%D1%82%D1%8B%D0%B5%20%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D1%8B%20%D0%93%D0%BE%D1%80%D0%B7%D0%B4%D1%80%D0%B0%D0%B2%20%D0%B8%20%D0%97%D0%B4%D1%80%D0%B0%D0%B2%D1%81%D0%B8%D1%82%D0%B8.sql) |

---

## Используемые технологии

- SQL
- Aggregation functions
- Window functions
- CTE (WITH)
- JOIN (INNER, UNION ALL)
  
## Структура проекта

- **Projects/**
  - **sql-tasks-pharmacy-sales/**
    - **data/**
      - исходные данные для анализа продаж аптек
    - **queries/**
      - `1_ТОП-3_аптеки.sql` — аптеки с наибольшей выручкой
      - `2_ТОП-3_лекарства.sql` — самые продаваемые лекарства
      - `3_Аптеки_с_оборотом_более_1_8_млн.sql` — высокооборотные аптеки
      - `4_Кумулятивные_продажи_по_аптекам.sql` — накопленные продажи во времени
      - `5_Количество_клиентов_по_аптекам.sql` — уникальные клиенты по аптекам
      - `6_ТОП-10_клиентов.sql` — клиенты с максимальным объёмом заказов
      - `7_Кумулятивные_заказы_по_клиентам.sql` — динамика customer lifetime
      - `8_Частые_клиенты_Горздрав_и_Здравсити.sql` — лояльные клиенты сетей
    - **presentation/**
      - `Pharmacy_Data_Analysis_SQL.pdf` — постановка задач, результаты и бизнес-выводы
- `README.md` — описание проекта и аналитических решений


## Ограничения данных

Данные используются в учебных целях и не содержат конфиденциальной информации.  
Проект предназначен для демонстрации SQL-аналитики и бизнес-мышления.

## Автор

**Svetlana Nasonkova**  
Data Analyst | BI & Product Analytics  
Telegram: https://t.me/SvetlNas
